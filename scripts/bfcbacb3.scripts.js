"use strict";angular.module("motortouchApp",["ngSanitize","ngRoute","ngResource","ui.bootstrap","ngAnimate"]).config(["$routeProvider","$httpProvider",function(a){a.when("/",{templateUrl:"views/home.html",controller:"HomeCtrl"}).when("/models",{templateUrl:"views/models.html",controller:"modelsCtrl"}).when("/posts",{templateUrl:"views/post/all.html",controller:"PostListCtrl"}).when("/posts/:postId",{templateUrl:"views/post/show.html",controller:"PostShowCtrl"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","constants","Post",function(a,b,c){a.posts||c.then(function(b){a.posts=b}),a.constants=b}]),angular.module("motortouchApp").factory("constants",function(){var a={};return a.API_URL="http://public-api.wordpress.com/rest/v1/sites/vzix.wordpress.com",a}),angular.module("motortouchApp").filter("filterByParamId",function(){return function(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++)a[e][b]._id===c&&d.push(a[e]);return d}}),angular.module("motortouchApp").filter("filterByParamVal",function(){return function(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++)a[e][b]===c&&d.push(a[e]);return d}}),angular.module("motortouchApp").filter("getById",function(){return function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]._id===b)return a[c];return null}}),angular.module("motortouchApp").factory("Post",["$resource","$q","constants",function(a,b,c){var d=c.API_URL+"/posts/:postId?callback=JSON_CALLBACK",e=a(d,{postId:"@id"},{query:{method:"JSONP",params:{postId:"@id"}}}),f=b.defer();return e.query(function(a){for(var b in a.posts)a.posts[b]._id=a.posts[b].ID.toString();f.resolve(a.posts)}),f.promise}]),angular.module("motortouchApp").directive("dynamic",["$compile",function(a){return{restrict:"A",replace:!0,link:function(b,c,d){b.$watch(d.dynamic,function(d){c.html(d),a(c.contents())(b)})}}}]),angular.module("motortouchApp").directive("pre",[function(){return{restrict:"E",controller:["$scope",function(){}],link:function(a,b){b.hasClass("transclude")&&b.replaceWith(b[0].innerText)}}}]),angular.module("motortouchApp").controller("HomeCtrl",[function(){}]),angular.module("motortouchApp").controller("modelsCtrl",["Post","$scope","$rootScope","$filter","$routeParams",function(a,b,c,d,e){e.postId||"";c.posts?(b.logo=d("filterByParamVal")(c.posts,"slug","logo")[0],b.post=d("filterByParamVal")(c.posts,"slug","models")[0]):a.then(function(a){b.logo=d("filterByParamVal")(a,"slug","logo")[0],b.post=d("filterByParamVal")(a,"slug","models")[0]})}]),angular.module("motortouchApp").controller("PostListCtrl",["Post","$scope","$rootScope",function(a,b,c){c.posts||a.then(function(a){c.posts=a})}]),angular.module("motortouchApp").controller("PostShowCtrl",["Post","$scope","$rootScope","$filter","$routeParams",function(a,b,c,d,e){var f=e.postId||"";c.posts?b.post=d("getById")(c.posts,f):a.then(function(a){b.post=d("getById")(a,f)})}]),angular.module("motortouchApp").run(["$templateCache",function(a){a.put("views/home.html",'<div class="browsable">\n	<h2>Home</h2>\n	<ul class="list-group">\n		<li class="list-group-item clearfix">\n			<a href="#/models">Models</a>\n		</li>\n		<li class="list-group-item clearfix">\n			<a href="#/posts">Pieces</a>\n		</li>\n	</ul>\n</div>\n'),a.put("views/models.html",'<div ng-class="{sidemenu:true, sidemenuleft:true, inactive:sidemenuactivated, active:sidemenuactive}">\n	<div class="menubutton" ng-click="sidemenuactivated=true; sidemenuactive = !sidemenuactive;"></div>\n	<div ng-bind-html="logo.content" class="logocontainer"></div>\n	<div dynamic="post.content" class="sidemenucontent">\n	</div>\n</div>\n'),a.put("views/post/all.html",'<div class="browsable">\n	<h2>Pieces</h2>\n	<ul class="list-group">\n		<li ng-repeat="post in posts  | filter:{categories:\'pieces\'}" class="list-group-item clearfix">\n			<a ng-href="#/posts/{{post.ID}}">\n				{{post.title}}\n			</a>\n		</li>\n	</ul>\n</div>\n'),a.put("views/post/show.html",'<div ng-class="{sidemenu:true, sidemenuright:true, inactive:sidemenuactivated, active:sidemenuactive}">\n	<div class="menubutton" ng-click="sidemenuactivated=true; sidemenuactive = !sidemenuactive;"></div>\n	<h2 ng-bind-html="post.title"></h2>\n	<div dynamic="post.content" class="sidemenucontent"></div>\n</div>\n')}]);