"use strict";angular.module("motortouchApp",["ngSanitize","ngRoute","ngResource","ui.bootstrap","ngAnimate"]).config(["$routeProvider","$httpProvider",function(a){a.when("/",{templateUrl:"views/home.html",controller:"HomeCtrl"}).when("/models",{templateUrl:"views/model/all.html",controller:"PostListCtrl"}).when("/models/:modelId",{templateUrl:"views/model/show.html",controller:"PostShowCtrl"}).when("/pieces/:pieceId",{templateUrl:"views/piece/show.html",controller:"PostShowCtrl"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","constants","Post",function(a,b){a.constants=b}]),angular.module("motortouchApp").factory("constants",function(){var a={};return a.API_URL="http://public-api.wordpress.com/rest/v1/sites/vzix.wordpress.com",a}),angular.module("motortouchApp").filter("filterByParamId",function(){return function(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++)a[e][b]._id===c&&d.push(a[e]);return d}}),angular.module("motortouchApp").filter("filterByParamVal",function(){return function(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++)console.log(a[e][b]),a[e][b]===c&&d.push(a[e]);return d}}),angular.module("motortouchApp").filter("getById",function(){return function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]._id===b)return a[c];return null}}),angular.module("motortouchApp").filter("hasWordpressCategory",function(){return function(a,b){for(var c=[],d=0,e=a.length;e>d;d++)"undefined"!=typeof a[d].categories[b]&&c.push(a[d]);return c}}),angular.module("motortouchApp").filter("hasWordpressTag",function(){return function(a,b){for(var c=[],d=0,e=a.length;e>d;d++)"undefined"!=typeof a[d].tags[b]&&c.push(a[d]);return c}}),angular.module("motortouchApp").factory("Post",["$resource","$rootScope","$filter","$q","constants",function(a,b,c,d,e){var f=e.API_URL+"/posts/:postId?callback=JSON_CALLBACK",g=a(f,{postId:"@id"},{query:{method:"JSONP",params:{postId:"@id"}}}),h=d.defer();return g.query(function(a){for(var d in a.posts)a.posts[d]._id=a.posts[d].ID.toString();b.company=c("hasWordpressTag")(a.posts,"company")[0],b.models=c("hasWordpressCategory")(a.posts,"model"),b.pieces=c("hasWordpressCategory")(a.posts,"piece"),h.resolve()}),h.promise}]),angular.module("motortouchApp").directive("dynamic",["$compile",function(a){return{restrict:"A",replace:!0,link:function(b,c,d){b.$watch(d.dynamic,function(d){c.html(d),a(c.contents())(b)})}}}]),angular.module("motortouchApp").directive("pre",[function(){return{restrict:"E",controller:["$scope",function(){}],link:function(a,b){b.hasClass("transclude")&&b.replaceWith(b[0].innerText)}}}]),angular.module("motortouchApp").controller("HomeCtrl",[function(){}]),angular.module("motortouchApp").controller("PostListCtrl",["Post","$scope",function(a,b){a.then(function(){}),b.Math=window.Math,b.scrolllevel=0}]),angular.module("motortouchApp").controller("PostShowCtrl",["$rootScope","$scope","$filter","$routeParams","Post",function(a,b,c,d,e){var f=d.modelId||"",g=d.pieceId||"";e.then(function(){f?b.model=c("getById")(a.models,f):(b.piece=c("getById")(a.pieces,g),b.model=c("filterByParamId")(a.models,"slug",b.piece.tags[0])[0])})}]),angular.module("motortouchApp").run(["$templateCache",function(a){a.put("views/home.html",'<div class="browsable">\n	<img ng-src="{{company.featured_image}}">\n	<hr />\n	<h2>Left</h2>\n	<div class="list-group">\n		<a href="#/models" class="list-group-item clearfix">All models</a>\n	</div>\n	<h2>Right</h2>\n  <accordion close-others="true">\n		<accordion-group heading="{{model.title}}" ng-repeat="model in models | orderBy:\'date\':false">\n			<div class="list-group">\n				<a ng-href="#/models/{{model.ID}}" class="list-group-item">- Description -</a>\n				<a ng-repeat="piece in pieces  | hasWordpressTag:model.slug" ng-href="#/pieces/{{piece.ID}}" class="list-group-item clearfix">\n					{{piece.title}}\n				</a>\n			</div>\n		</accordion-group>\n	</accordion>\n</div>\n'),a.put("views/model/all.html",'<div ng-class="{sidemenu:true, sidemenuleft:true, inactive:sidemenuleftactivated, active:sidemenuleftactive}">\n	<div class="menubutton" ng-click="sidemenuleftactivated=true; sidemenuleftactive = !sidemenuleftactive;">\n		<span>Mod√®les</span>\n	</div>\n	<div class="logocontainer">\n		<img src="{{company.featured_image}}">\n	</div>\n	<div class="sidemenucontent">\n		<div ng-class="{sidemenuscroll:true, sidemenuscrolltop:true, clickable:(scrolllevel > 0)}" ng-click="scrolllevel = (scrolllevel > 0) ? Math.max(scrolllevel - 3, 0) : scrolllevel;">\n			<i class="fa fa-angle-up"></i>\n		</div>\n		<div ng-class="{sidemenuscroll:true, sidemenuscrollbottom:true, clickable:(scrolllevel < models.length - 6)}" ng-click="scrolllevel = (scrolllevel < models.length - 6) ?  Math.min(scrolllevel + 3,models.length - 6) : scrolllevel;">\n			<i class="fa fa-angle-down"></i>\n		</div>\n		<ul ng-style="{\'-webkit-transform\':\'translate3d(0,-\' + scrolllevel * 155 + \'px,0)\'}">\n			<li ng-repeat="model in models" class="clearfix">\n				<img src="{{model.featured_image}}">\n				<span ng-bind="model.title"></span>\n			</li>\n		</ul>\n	</div>\n</div>\n'),a.put("views/model/show.html",'<div ng-class="{sidemenu:true, sidemenuright:true, inactive:sidemenurightctivated, active:sidemenurightactive}">\n	<div class="menubutton" ng-click="sidemenurightactivated=true; sidemenurightactive = !sidemenurightactive;">\n		<span>Infos</span>\n	</div>\n	<h2 ng-bind-html="model.title"></h2>\n	<div dynamic="model.content" class="sidemenucontent"></div>\n</div>\n'),a.put("views/piece/show.html",'<div ng-class="{sidemenu:true, sidemenuright:true, inactive:sidemenurightactivated, active:sidemenurightactive}">\n	<div class="menubutton" ng-click="sidemenurightactivated=true; sidemenurightactive = !sidemenurightactive;">\n		<span>Infos</span>\n	</div>\n	<h2>{{model.title}} / {{piece.title}}</h2>\n	<div dynamic="piece.content" class="sidemenucontent"></div>\n</div>\n')}]);